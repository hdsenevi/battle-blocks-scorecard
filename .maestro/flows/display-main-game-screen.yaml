# Maestro Test Flow: Display Main Game Screen
# Story 2.3: Display Main Game Screen
# Tests AC: 2, 3, 4, 5, 6, 7, 8, 9

appId: com.battleblocks.scorecard
---
# Launch the app
- launchApp

# Wait for app to load
- waitForAnimationToEnd

# AC9: Create a new game and add at least 2 players
# Navigate to new game setup screen
- assertVisible: "Start New Game"
- tapOn: "Start New Game"
- waitForAnimationToEnd

# Verify we're on the new game setup screen
- assertVisible: "New Game"
- assertVisible: "Add at least 2 players to start"

# Add first player
- tapOn:
    id: "player-name-input"
- inputText: "Alice"
- hideKeyboard
- tapOn:
    id: "add-player-button"
- waitForAnimationToEnd

# Verify player appears
- assertVisible: "Alice"
- assertVisible:
    id: "players-count-1"

# Add second player
- tapOn:
    id: "player-name-input"
- inputText: "Bob"
- hideKeyboard
- tapOn:
    id: "add-player-button"
- waitForAnimationToEnd

# Verify second player appears
- assertVisible: "Bob"
- assertVisible:
    id: "players-count-2"

# Start game to navigate to main game screen
- tapOn:
    id: "start-game-button"
- waitForAnimationToEnd

# AC2, AC3: Verify we're on the main game screen
# AC3: Verify game status indicator is displayed
- assertVisible:
    id: "game-title"
- assertVisible:
    id: "game-status"


# AC3: Verify current score for each player is visible (scores start at 0)
- assertVisible: "Alice, Score: 0"
- assertVisible: "Bob, Score: 0"

# AC3: Verify player cards are displayed (using testID)
- assertVisible:
    id: "player-card-alice"
- assertVisible:
    id: "player-card-bob"

# AC3: Verify leader indication (initially no leader since scores are tied at 0)
# When scores are tied, no leader should be shown
# We'll verify this by checking that "Leader" badge is not visible
# Note: Leader indication will be tested in a separate flow when scores differ

# AC5: Verify layout is clear and easy to scan
# Scores should be prominently displayed (32px font, blue color)
# This is verified by the player cards being visible and readable

# AC6: Verify screen follows design system
# Proper spacing, touch targets, and styling are verified by component rendering

# AC7: Verify accessibility
# testIDs and accessibility labels are present (verified by component structure)

# AC8: Verify UI transitions are smooth
# waitForAnimationToEnd ensures transitions complete smoothly

# AC4: Real-time score updates will be tested in a separate flow (Story 3.4)
# as score entry functionality is not yet implemented in this story
