# Story 2.3: Display Main Game Screen

## Status
Draft

## Story

**As a** user,
**I want** to view the main game screen showing all players and their current scores,
**so that** I can see the current game state at a glance.

## Acceptance Criteria

1. **Given** I have started a game with players (Stories 2.1, 2.2)
2. **When** I view the main game screen
3. **Then** I can see:
   - All players in the game with their names
   - Current score for each player (displayed prominently)
   - Visual indication of which player is currently leading (if applicable)
   - Game status indicator (active, paused, completed)
4. **And** scores are displayed in real-time as they are updated
5. **And** the layout is clear and easy to scan (large, readable scores)
6. **And** the screen follows the design system (NativeWind, proper spacing, touch targets)
7. **And** the screen is accessible (screen reader support, proper contrast)
8. **And** UI transitions are smooth (< 200ms per NFR2)

**FRs covered:** FR4, FR11, FR31, FR38, FR40, NFR2, NFR35, NFR36, NFR37

## Tasks / Subtasks

- [ ] Create main game screen component (AC: 2)
  - [ ] Create `app/game/[id]/index.tsx` for main game screen
  - [ ] Set up route parameter handling for game ID
  - [ ] Load game data from GameContext or database
- [ ] Implement player display component (AC: 3)
  - [ ] Create `components/game/PlayerCard.tsx` component
  - [ ] Display player name prominently
  - [ ] Display current score prominently (large, readable)
  - [ ] Style according to design system
- [ ] Implement leader indication (AC: 3)
  - [ ] Calculate current leader from scores
  - [ ] Visually highlight leader (blue accent, border, or background)
  - [ ] Handle ties (show all tied players)
  - [ ] Make indication accessible (not just color)
- [ ] Implement game status indicator (AC: 3)
  - [ ] Display game status (active, paused, completed)
  - [ ] Use clear visual indicator
  - [ ] Make status accessible
- [ ] Implement real-time score updates (AC: 4)
  - [ ] Subscribe to GameContext state changes
  - [ ] Update display immediately when scores change
  - [ ] Ensure updates appear instantly (< 100ms per NFR1)
- [ ] Apply design system styling (AC: 6)
  - [ ] Use NativeWind/Tailwind classes
  - [ ] Follow spacing guidelines
  - [ ] Ensure touch targets meet requirements
  - [ ] Use proper typography
- [ ] Implement accessibility features (AC: 7)
  - [ ] Add semantic labels for screen readers
  - [ ] Ensure proper contrast ratios (WCAG AA)
  - [ ] Support system font scaling
  - [ ] Make leader indication accessible beyond color
- [ ] Optimize UI transitions (AC: 8)
  - [ ] Ensure transitions < 200ms
  - [ ] Use smooth animations
  - [ ] Respect reduced motion preferences

## Dev Notes

### Project Context
This story creates the main game screen where users view all players and scores. It's the central screen for gameplay and must be clear, accessible, and performant.

### Source Tree Information
- **Main game screen**: `app/game/[id]/index.tsx` - Dynamic route for game screen
- **Player card component**: `components/game/PlayerCard.tsx` - Individual player display
- **Score display component**: `components/game/ScoreDisplay.tsx` - Score display component
- **Game status component**: `components/game/GameStatus.tsx` - Game status indicator
- **Rule indicator component**: `components/game/RuleIndicator.tsx` - Rule enforcement indicators

### Architecture References
- **State Management**: Uses GameContext to access game state
- **Real-time Updates**: Subscribes to GameContext state changes
- **Design System**: NativeWind/Tailwind for styling
- **Accessibility**: WCAG AA contrast, screen reader support, font scaling
- **Performance**: UI transitions < 200ms (NFR2), score updates < 100ms (NFR1)

### Dependencies
- Requires Story 2.1 (Create New Game Flow) to be completed
- Requires Story 2.2 (Add Players) to be completed
- Requires Story 1.6 (Game Context) to be completed
- Will integrate with Story 3.5 (Leader Identification) for leader highlighting

### Testing

**Test File Location:**
- `app/__tests__/game/[id]/index.test.tsx` - Main game screen tests
- `components/game/__tests__/PlayerCard.test.tsx` - Player card tests

**Test Standards:**
- Test game screen renders correctly
- Test player display with names and scores
- Test leader indication logic
- Test game status display
- Test real-time score updates
- Test accessibility features
- Test UI transitions
- Mock GameContext

**Testing Frameworks:**
- Jest for unit testing
- React Native Testing Library for component testing

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-14 | 1.0 | Story created from Epic 2 | PM Agent |

## Dev Agent Record

### Agent Model Used
_To be populated by Dev Agent_

### Debug Log References
_To be populated by Dev Agent_

### Completion Notes List
_To be populated by Dev Agent_

### File List
_To be populated by Dev Agent_

## QA Results
_To be populated by QA Agent_
