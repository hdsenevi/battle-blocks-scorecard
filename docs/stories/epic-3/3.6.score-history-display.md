# Story 3.6: Score History Display

## Status
Draft

## Story

**As a** user,
**I want** to see the score history for the current game,
**so that** I can review past score entries.

## Acceptance Criteria

1. **Given** I am viewing the main game screen
2. **When** I access the score history (via button, swipe, or menu)
3. **Then** I can see a list of all score entries for the current game:
   - Player name
   - Score value
   - Entry type (single block or multiple blocks)
   - Timestamp or round number
4. **And** entries are displayed in chronological order (most recent first or last)
5. **And** the history is scrollable if there are many entries
6. **And** the display is clear and easy to read
7. **And** the history is retrieved from the database efficiently
8. **And** the UI follows the design system

**FRs covered:** FR14

## Tasks / Subtasks

- [ ] Create score history access point (AC: 2)
  - [ ] Add button, swipe gesture, or menu option
  - [ ] Style according to design system
  - [ ] Ensure accessibility
- [ ] Create score history component (AC: 3)
  - [ ] Create `components/game/ScoreHistory.tsx` component
  - [ ] Display player name, score value, entry type, timestamp
  - [ ] Style according to design system
- [ ] Implement database query (AC: 3, 7)
  - [ ] Use database service getScoreEntriesByGame()
  - [ ] Query entries for current game
  - [ ] Optimize query performance
- [ ] Implement chronological ordering (AC: 4)
  - [ ] Sort entries by timestamp
  - [ ] Choose most recent first or last (UX decision)
  - [ ] Display order clearly
- [ ] Implement scrollable list (AC: 5)
  - [ ] Use FlatList or ScrollView
  - [ ] Handle large lists efficiently
  - [ ] Ensure smooth scrolling
- [ ] Apply design system styling (AC: 8)
  - [ ] Use NativeWind/Tailwind classes
  - [ ] Follow spacing and typography guidelines
  - [ ] Ensure readability

## Dev Notes

### Project Context
This story implements score history display, allowing users to review past score entries for the current game.

### Source Tree Information
- **Score history component**: `components/game/ScoreHistory.tsx` - Score history display
- **Main game screen**: `app/game/[id]/index.tsx` - Where history is accessed
- **Database service**: `services/database.ts` - getScoreEntriesByGame() function

### Architecture References
- **Database Query**: Uses database service getScoreEntriesByGame()
- **Performance**: Efficient query and display
- **Design System**: NativeWind/Tailwind styling
- **Chronological Order**: Sorted by timestamp

### Dependencies
- Requires Story 2.3 (Main Game Screen) to be completed
- Requires Story 1.3 (Database Service) to be completed
- Integrates with Stories 3.2 and 3.3 (Score entries)

### Testing

**Test File Location:**
- `components/game/__tests__/ScoreHistory.test.tsx` - Score history tests

**Test Standards:**
- Test score history access
- Test database query
- Test chronological ordering
- Test scrollable list
- Test design system compliance
- Mock database service

**Testing Frameworks:**
- Jest for unit testing
- React Native Testing Library for component testing

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-01-14 | 1.0 | Story created from Epic 3 | PM Agent |

## Dev Agent Record

### Agent Model Used
_To be populated by Dev Agent_

### Debug Log References
_To be populated by Dev Agent_

### Completion Notes List
_To be populated by Dev Agent_

### File List
_To be populated by Dev Agent_

## QA Results
_To be populated by QA Agent_
